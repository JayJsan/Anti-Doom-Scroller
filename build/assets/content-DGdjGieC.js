console.log("Content script loaded!");const i=window.location.href;console.log("Current URL:",i);let s=!0;const d=()=>{console.log("Handling Youtube...");const o=()=>{console.log("URL changed!"),c()?console.log("Shorts page detected!"):console.log("Not on shorts page.")},t=()=>{console.log("Removing shorts navigation buttons..."),document.querySelectorAll("[id=endpoint]").forEach(e=>{e!=null&&e&&[e.innerText,e.title,e.href,e.ariaLabel].forEach(n=>{!n||n===void 0||n===null||n.toLowerCase().includes("shorts")&&(console.log("Element:",e),console.log("Shorts navigation button detected! Removing..."),console.log("Shorts button detected! Removing..."),e.remove())})})},r=()=>{document.querySelectorAll("[id=dismissible]").forEach(e=>{e.remove()})},c=()=>window.location.href.toLowerCase().includes("shorts")?(console.log("Shorts page detected!"),setTimeout(()=>{window.open("https://www.youtube.com/","_self").focus()},2e3),!0):!1;window.addEventListener("yt-navigate-finish",o),new MutationObserver(t).observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{s&&r(),t()},1e3),setTimeout(()=>{s&&r(),t()},5e3)},u=()=>{chrome.runtime.onMessage.addListener((o,t,r)=>{o.action=="toggle_shorts_feed_removal"&&(s=o.value,console.log("Shorts feed removal:",s))})},a=()=>{i.toLowerCase().includes("youtube")&&(u(),d())};a();
